import matplotlib.pyplot as plt

order_list = [1, 0, 5, 4, 2, 2, 2, 3, 3, 3, 3, 4, 5, 2, 5, 1, 1, 7, 2, 0, 0, 1, 2, 2, 0, 8, 2, 5, 5, 2, 7, 2, 1, 5, 6, 0, 3, 1, 2, 1, 2, 2, 0, 2, 1, 0, 0, 2, 5, 3, 0, 3, 2, 4, 5, 1, 3, 7, 5, 6, 1, 4, 2, 1, 0, 0, 2, 1, 3, 1, 2, 1, 3, 7, 4, 3, 6, 11, 6, 5, 4, 1, 10, 3, 4, 0, 5, 3, 2, 0, 1, 3, 5, 0, 1, 2, 4, 0, 2, 2, 4, 3, 1, 4, 0, 3, 0, 2, 6, 1, 9, 4, 5, 4, 4, 3, 4, 1, 4, 6, 2, 0, 8, 1, 4, 1, 4, 3, 6, 1, 3, 3, 1, 3, 3, 2, 4, 2, 5, 10, 0, 2, 3, 1, 6, 7, 2, 10, 0, 0, 1, 11, 5, 1, 3, 2, 3, 2, 7, 1, 4, 2, 7, 6, 2, 4, 0, 1, 0, 2, 0, 1, 9, 0, 4, 0, 13, 2, 2, 2, 4, 3, 5, 3, 4, 1, 4, 0, 1, 3, 1, 5, 1, 3, 0, 1, 1, 3, 1, 3, 3]
pnl_list = [-1.7000000000000455, 5.399999999999977, 31.899999999999977, 2.4499999999999886, 0.950000000000017, -5.899999999999977, -3.799999999999983, 0.9000000000000483, -0.7999999999999545, 6.150000000000006, 14.550000000000011, 18.949999999999932, 10.199999999999989, 3.4499999999999993, 25.549999999999955, 2.299999999999997, -0.1999999999999993, 15.599999999999966, 9.59999999999998, 0, 10.150000000000034, 13.25, 6.2999999999999545, 5.75, 0, 21.44999999999996, 14.450000000000045, 9.950000000000017, 11.849999999999952, 3.8500000000000085, 10.600000000000023, -1.2499999999999716, 4.100000000000023, -0.5500000000000114, 18.400000000000006, 0, -2.0, 26.09999999999991, 19.44999999999996, 7.100000000000023, 26.150000000000034, -5.150000000000034, 8.350000000000009, 7.75, 0.9999999999999982, 0, 1.1500000000000021, 2.9000000000000057, 2.5, -3.649999999999949, 0, 2.999999999999943, 15.350000000000023, 22.450000000000045, -3.949999999999932, -1.0, -1.6999999999999886, 11.299999999999983, 3.3499999999999943, 12.499999999999943, 0.05000000000001137, 4.649999999999949, -0.399999999999995, -1.6999999999999886, 7.050000000000011, 0, -0.6499999999999915, 11.60000000000008, 0.29999999999998295, 20.55000000000001, -16.90000000000009, -1.0, -1.75, 5.849999999999994, 0.4000000000000057, 5.05000000000004, 25.900000000000063, -0.2500000000000284, 6.699999999999989, 24.299999999999983, 18.599999999999966, 5.849999999999994, 5.249999999999915, 33.099999999999966, -8.299999999999983, 8.049999999999997, -8.950000000000045, 2.34999999999998, 21.299999999999955, 29.150000000000034, -3.5, 1.3500000000000014, 1.5999999999999943, 0, 19.799999999999983, 4.500000000000057, 0.5000000000000071, 0, 0.20000000000001705, 4.999999999999993, 9.150000000000006, 2.2499999999999716, -0.30000000000001137, -0.2500000000000142, 0, -9.850000000000023, 0, 5.249999999999986, 17.150000000000006, 0.8499999999999943, 17.700000000000067, -0.39999999999997726, -7.650000000000006, 42.549999999999955, -8.949999999999989, 6.000000000000028, 16.89999999999995, -3.9500000000000455, 3.3500000000000227, 1.5500000000000682, 1.9999999999999716, 2.200000000000003, 3.5999999999999943, 4.050000000000011, 11.449999999999989, 8.65000000000002, 0.4000000000000057, 8.899999999999991, 16.599999999999994, 1.4500000000000028, 2.450000000000017, 2.1499999999999915, 21.850000000000037, 5.599999999999998, 12.450000000000045, 5.599999999999966, 0.700000000000017, 14.850000000000023, 41.45000000000002, 75.05000000000018, 0, 9.300000000000011, -4.89999999999992, 0.09999999999999953, 22.44999999999999, 9.30000000000004, -0.14999999999997726, 20.55000000000001, -5.850000000000023, 14.950000000000045, 7.199999999999989, 7.599999999999909, 7.25, -1.1499999999999915, 4.549999999999983, -0.34999999999999964, 11.150000000000006, 2.75, 28.049999999999955, 0.05000000000001137, 6.250000000000007, -1.0, 2.150000000000013, 11.950000000000045, 5.600000000000023, -8.749999999999943, 0, -0.15000000000000568, 0, 0.7000000000000028, 24.649999999999977, -3.150000000000034, 3.3999999999999773, 5.349999999999994, -0.4499999999999993, 7.25, 9.199999999999903, 8.69999999999996, 7.09999999999998, 2.000000000000014, 7.949999999999989, 15.299999999999983, 27.199999999999875, 1.5500000000000824, 16.700000000000017, 4.75, -5.299999999999841, 2.3000000000000016, -1.25, 16.14999999999999, -4.4500000000000455, 12.199999999999989, 13.050000000000011, -1.8500000000000085, 0, 3.6500000000000057, 4.099999999999994, 17.100000000000023, 4.0499999999999545, 0.29999999999999805, 5.300000000000068]

## ONLY CALLS
order_list = [0, 5, 4, 2, 3, 3, 5, 2, 1, 1, 7, 0, 2, 0, 8, 7, 5, 0, 3, 1, 2, 2, 0, 0, 0, 3, 2, 5, 3, 6, 1, 2, 1, 0, 0, 1, 2, 7, 3, 6, 11, 6, 0, 1, 2, 4, 2, 2, 3, 0, 2, 6, 9, 5, 4, 1, 6, 0, 8, 1, 3, 1, 3, 3, 2, 10, 0, 3, 6, 7, 2, 10, 0, 0, 1, 3, 2, 3, 1, 4, 7, 6, 2, 0, 0, 0, 1, 9, 13, 2, 2, 4, 4, 0, 3, 1, 1, 0, 3, 1, 3, 3]
pnl_list = [5.399999999999977, 31.899999999999977, 2.4499999999999886, -5.899999999999977, 0.9000000000000483, -0.7999999999999545, 10.199999999999989, 3.4499999999999993, 2.299999999999997, -0.1999999999999993, 15.599999999999966, 10.150000000000034, 6.2999999999999545, 0, 21.44999999999996, 10.600000000000023, -0.5500000000000114, 0, -2.0, 26.09999999999991, -5.150000000000034, 7.75, 0, 1.1500000000000021, 0, 2.999999999999943, 15.350000000000023, -3.949999999999932, -1.6999999999999886, 12.499999999999943, 0.05000000000001137, -0.399999999999995, -1.6999999999999886, 7.050000000000011, 0, 11.60000000000008, -16.90000000000009, 5.849999999999994, 5.05000000000004, 25.900000000000063, -0.2500000000000284, 6.699999999999989, 8.049999999999997, -3.5, 4.500000000000057, 0.5000000000000071, 0.20000000000001705, 4.999999999999993, -9.850000000000023, 0, 5.249999999999986, 17.150000000000006, 17.700000000000067, -7.650000000000006, 42.549999999999955, -3.9500000000000455, 1.5500000000000682, 2.200000000000003, 3.5999999999999943, 8.65000000000002, 2.1499999999999915, 21.850000000000037, 5.599999999999998, 12.450000000000045, 14.850000000000023, 75.05000000000018, 0, -4.89999999999992, 22.44999999999999, 9.30000000000004, -0.14999999999997726, 20.55000000000001, -5.850000000000023, 14.950000000000045, -1.1499999999999915, 4.549999999999983, -0.34999999999999964, 11.150000000000006, 0.05000000000001137, 6.250000000000007, 2.150000000000013, 11.950000000000045, 5.600000000000023, 0, 0, 24.649999999999977, -3.150000000000034, 3.3999999999999773, 9.199999999999903, 8.69999999999996, 7.09999999999998, 7.949999999999989, -5.299999999999841, 2.3000000000000016, 16.14999999999999, -4.4500000000000455, 13.050000000000011, 0, 17.100000000000023, 4.0499999999999545, 0.29999999999999805, 5.300000000000068]

## ONLY PUTS
# order_list = [1, 2, 2, 3, 3, 4, 5, 2, 0, 1, 2, 2, 5, 5, 2, 2, 1, 6, 2, 1, 2, 0, 1, 2, 5, 3, 4, 1, 7, 5, 4, 2, 3, 1, 1, 3, 4, 5, 4, 1, 10, 3, 4, 5, 3, 2, 0, 3, 5, 0, 1, 0, 4, 3, 1, 4, 0, 1, 4, 4, 3, 4, 4, 2, 1, 4, 4, 3, 6, 1, 3, 2, 4, 5, 2, 1, 1, 11, 5, 2, 7, 2, 4, 1, 2, 0, 4, 0, 2, 3, 5, 3, 4, 1, 1, 5, 3, 1, 1]
# pnl_list = [-1.7000000000000455, 0.950000000000017, -3.799999999999983, 6.150000000000006, 14.550000000000011, 18.949999999999932, 25.549999999999955, 9.59999999999998, 0, 13.25, 5.75, 14.450000000000045, 9.950000000000017, 11.849999999999952, 3.8500000000000085, -1.2499999999999716, 4.100000000000023, 18.400000000000006, 19.44999999999996, 7.100000000000023, 26.150000000000034, 8.350000000000009, 0.9999999999999982, 2.9000000000000057, 2.5, -3.649999999999949, 22.450000000000045, -1.0, 11.299999999999983, 3.3499999999999943, 4.649999999999949, -0.6499999999999915, 0.29999999999998295, 20.55000000000001, -1.0, -1.75, 0.4000000000000057, 24.299999999999983, 18.599999999999966, 5.849999999999994, 5.249999999999915, 33.099999999999966, -8.299999999999983, -8.950000000000045, 2.34999999999998, 21.299999999999955, 29.150000000000034, 1.3500000000000014, 1.5999999999999943, 0, 19.799999999999983, 0, 9.150000000000006, 2.2499999999999716, -0.30000000000001137, -0.2500000000000142, 0, 0.8499999999999943, -0.39999999999997726, -8.949999999999989, 6.000000000000028, 16.89999999999995, 3.3500000000000227, 1.9999999999999716, 4.050000000000011, 11.449999999999989, 0.4000000000000057, 8.899999999999991, 16.599999999999994, 1.4500000000000028, 2.450000000000017, 5.599999999999966, 0.700000000000017, 41.45000000000002, 9.300000000000011, 0.09999999999999953, 7.199999999999989, 7.599999999999909, 7.25, 2.75, 28.049999999999955, -1.0, -8.749999999999943, -0.15000000000000568, 0.7000000000000028, 5.349999999999994, -0.4499999999999993, 7.25, 2.000000000000014, 15.299999999999983, 27.199999999999875, 1.5500000000000824, 16.700000000000017, 4.75, -1.25, 12.199999999999989, -1.8500000000000085, 3.6500000000000057, 4.099999999999994]

pnl_copy = pnl_list.copy()

# Only 'ITM'
pnl_copy = pnl_copy[1::3]
pnl_list = pnl_list[1::3]

profitable_list = []
lossy_list = []

for i in range(len(pnl_copy)):
    if(pnl_copy[i]>60):
        pnl_copy[i] = 0
    if(pnl_copy[i]>0 and pnl_copy[i]<5):
        pnl_copy[i] = 0

    pnl_copy[i] = pnl_copy[i]-(7/15)*order_list[i]

    if(pnl_copy[i]>0):
        profitable_list.append(pnl_copy[i])
    elif(pnl_copy[i]<0):
        lossy_list.append(pnl_copy[i])

# print(sum(order_list), sum(order_list)/len(order_list))
print(sum(pnl_copy), sum(pnl_copy)/len(pnl_copy))
# print(sum(pnl_list), sum(pnl_list)/len(pnl_list))
print(len(profitable_list)/len(pnl_copy), sum(profitable_list)/len(profitable_list), sum(lossy_list)/len(lossy_list))
print(len(pnl_copy))
      
plt.plot(pnl_copy)
plt.show()



from breeze_import import api_key_2 as api_key
from breeze_import import api_secret_2 as api_secret
from breeze_import import session_token_2 as session_token
from breeze_import import breeze_2 as breeze
from get_session_key import get_key
from get_stock_token import get_token